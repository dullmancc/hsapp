<!--
  Generated template for the ExitPzRecordPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>普通旁站监理表单</ion-title>
    <ion-buttons end>
      <button ion-button icon-only color="royal" [ngStyle]="{'display':btcs}" (click)="save(0)">
        <ion-icon name="copy"></ion-icon>
      </button>
      <button ion-button icon-only color="royal" [ngStyle]="{'display':btcs}"  (click)="save(1)">
        <ion-icon name="cloud-upload"></ion-icon>
      </button>
      <button ion-button icon-only color="royal" [ngStyle]="{'display':btcs1}"  (click)="Download()">
        <ion-icon name="cloud-upload"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding overflow-scroll="true">
  <ion-list>
    <ion-item >
      <ion-label color="primary" stacked>关键部位:</ion-label>
      <ion-input type="text" [(ngModel)]="PZrecord.Partno" placeholder="X层结构剪力墙、柱"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label color="primary" stacked>关键工序:</ion-label>
      <ion-input type="text" [(ngModel)]="PZrecord.Processno"  placeholder="X层梁、板混凝土浇筑"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label color="primary" stacked>旁站计划开始时间</ion-label>
      <ion-datetime displayFormat="YYYY年MM月DD日 HH：mm" cancelText="取消" doneText="确定" placeholder="计划开始日期" pickerFormat="YYYY-MM-DD HH:mm" [(ngModel)]="PZrecord.PreBeginTime"></ion-datetime>
    </ion-item>
    <ion-item>
      <ion-label  color="primary" stacked>旁站计划结束时间</ion-label>
      <ion-datetime displayFormat="YYYY年MM月DD日 HH：mm" cancelText="取消" doneText="确定" placeholder="计划结束日期" [(ngModel)]="PZrecord.PreEndTime" (ionChange)="changePlanDate()"></ion-datetime>
    </ion-item>
    <ion-item>
      <ion-label  color="primary" stacked>旁站开始时间</ion-label>
      <ion-datetime displayFormat="YYYY年MM月DD日 HH：mm" cancelText="取消" doneText="确定" placeholder="开始日期" [(ngModel)]="PZrecord.BeginTime"></ion-datetime>
    </ion-item>
    <ion-item>
      <ion-label  color="primary" stacked>旁站结束时间</ion-label>
      <ion-datetime displayFormat="YYYY年MM月DD日 HH：mm" cancelText="取消" doneText="确定" placeholder="结束日期" [(ngModel)]="PZrecord.EndTime" (ionChange)="changeDate()"></ion-datetime>
    </ion-item>
    <ion-item>
      <ion-label  color="primary" style="font-size: 1.0em;text-indent:0">施工情况</ion-label>
    </ion-item>
    <textarea [(ngModel)]="PZrecord.ConstructionCase" style="width:100%;height:100px;resize: none;border-top: 1px solid #b9b9b9"></textarea>
    <ion-item>
      <ion-label  color="primary" style="font-size: 1.0em;text-indent:0">监理情况</ion-label>
    </ion-item>
    <textarea [(ngModel)]="PZrecord.SupervisorCase" style="width:100%;height:100px;resize: none;border-top: 1px solid #b9b9b9"></textarea>
    <ion-item>
      <ion-label color="primary" stacked>发现的问题</ion-label>
      <ion-input placeholder="发现的问题" [(ngModel)]="PZrecord.FindPromble" type="text"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label color="primary" stacked>处理情况</ion-label>
      <ion-input placeholder="处理情况" [(ngModel)]="PZrecord.Suggestion" type="text"></ion-input>
    </ion-item>
    <ion-label  color="primary" style="font-size: 1.0em;margin-left:5%">现场照片</ion-label>
    <div margin-left="5%" margin-top="5%" class="xiahuaxian">
      <ul style="list-style: none;margin:0;padding:0">
        <li *ngFor="let photo of photoes;let i=index" style="display: inline-block;margin-right: 5px;position: relative">
          <img style="width:120px;height:120px;display: inline-block" [src]="photoes[i].src">
          <ion-icon *ngIf="this.PZtype==0" name="close" small style="position: absolute;right:0;top:0;" (click)="deletePhoto(i)"></ion-icon>
        </li>
        <img *ngIf="this.PZtype==0" class="photoBT" (click)="addPhoto()" src="./assets/icon/add.png">
      </ul>
    </div>
    <button ion-button (click)="uploadFile()" >上传图片</button>
    <button ion-button (click)="reUpload()">重新上传</button>
  </ion-list>
</ion-content>
